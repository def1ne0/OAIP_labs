#include <print>
#include <string>

#include "check_cin.h"
#include "task_1.h"
#include "run_tasks.h"
#include "task_2.h"
#include "task_3.h"
#include "task_4.h"
#include "task_5.h"

void menu();

int main(int argc, char **argv) {
    menu();
}

void menu() {
    bool exit = false;

    while (!exit) {
        std::println(" 0 -> –í—ã—Ö–æ–¥\n n -> –ó–∞–ø—É—Å–∫ n –∑–∞–¥–∞–Ω–∏—è (1-5)");

        int choice = io::input_value<int>("–í–≤–µ–¥–∏—Ç–µ –ø—É–Ω–∫—Ç –º–µ–Ω—é", "–ù–µ–≤–µ—Ä–Ω—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é", true, 0, 5);
        const std::string compl_by = "\n–í—ã–ø–æ–ª–Ω–∏–ª –§–∏–Ω–µ–≤–∏—á –ê—Ä—Å–µ–Ω–∏–π\n–í–∞—Ä–∏–∞–Ω—Ç 12";
        const std::vector<std::string> essence = {
            "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∞ –¥–≤—É–º–µ—Ä–Ω—ã—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –º–∞—Å—Å–∏–≤–∞-–º–∞—Ç—Ä–∏—Ü—ã A –∏ B —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å—é ùëõ √ó ùëò. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –º–∞—Å—Å–∏–≤–æ–≤ –≤–≤–µ—Å—Ç–∏ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã",
            "–î–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –æ–¥–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ X –∏–∑ N —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞–π—Ç–∏ —Å—É–º–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –ø–æ —Ñ–æ—Ä–º—É–ª–µ Xi^2, {1, 2, 3, 4, 5, 6}",
            "–°–æ–∑–¥–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –¥–∏–∞–≥–æ–Ω–∞–ª–∏ –º–∞—Ç—Ä–∏—Ü—ã –∏ –∏–º–µ—é—â–∏—Ö —á–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í—ã—á–∏—Å–ª–∏—Ç—å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—Å–∏–≤–∞",
            "–°–æ–∑–¥–∞—Ç—å –¥–≤—É–º–µ—Ä–Ω—ã–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∏—Å–µ–ª. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –ª–∏ —Å—Ä–µ–¥–∏ –Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç—ã —Å –Ω—É–ª–µ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.",
            "–î–∞–Ω –¥–≤—É–º–µ—Ä–Ω—ã–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª. –ó–Ω–∞—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –≤–≤–µ—Å—Ç–∏ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã. –°–æ–∑–¥–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ —á–µ—Ç–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö –¥–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏ –∏–º–µ—é—â–∏—Ö –Ω–µ—á–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
        };

        void (*tasks_list[5]) () = {
            task_1::do_task_1,
            task_2::do_task_2,
            task_3::do_task_3,
            task_4::do_task_4,
            task_5::do_task_5
        };

        switch (choice) {
            case 0:
                exit = true;
                break;
            default:
                tasks::run_task(choice, tasks_list, essence, compl_by);
        }
    }
}
